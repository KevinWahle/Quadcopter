#include "MCAL/gpio.h"
#include "timer/timer.h"
#include "MCAL/board.h"
#include "UART/uart.h"

#include <stdio.h>
#include <string.h>

/*******************************************************************************
 * CONSTANT AND MACRO DEFINITIONS USING #DEFINE
 ******************************************************************************/

#define UART_ID			0
#define UART_BAUDRATE	115200
#define UART_TX			2
/*******************************************************************************
 * FUNCTION PROTOTYPES FOR PRIVATE FUNCTIONS WITH FILE LEVEL SCOPE
 ******************************************************************************/

/*******************************************************************************
 *******************************************************************************
                        GLOBAL VARIABLES
 *******************************************************************************
 ******************************************************************************/

tim_id_t timer;


/*******************************************************************************
 *******************************************************************************
                        GLOBAL FUNCTION DEFINITIONS
 *******************************************************************************
 ******************************************************************************/

/* Funci√≥n que se llama 1 vez, al comienzo del programa */
void App_Init (void)
{

	timerInit();

	uart_cfg_t cfg = {.MSBF = false, .baudrate = UART_BAUDRATE, .parity = NO_PARITY};
	uartInit(UART_ID, cfg);

	uart_cfg_t cfg2 = {.MSBF = false, .baudrate = UART_BAUDRATE, .parity = NO_PARITY};
	uartInit(UART_TX, cfg2);

}
void App_Run (void)
{
	while (uartIsRxMsg(UART_ID)) {
		char c;
		uartReadMsg(UART_ID, &c, 1);
		uartWriteMsg(UART_TX, &c, 1);
	}
}


/*******************************************************************************
 *******************************************************************************
                        LOCAL FUNCTION DEFINITIONS
 *******************************************************************************
 ******************************************************************************/


/*******************************************************************************
 ******************************************************************************/
